---
layout: umunami
title: Characters
---

<div class="slider-wrapper">
  <div class="swiper character-slider">
    <div class="swiper-wrapper">

      {% for character in site.data.characters %}
      <div class="swiper-slide">
        <div class="character-card" data-index="{{ forloop.index0 }}">
          <div class="character-image">
            <img src="{{ character.image }}" alt="{{ character.name }}">
          </div>
          <div class="character-info">
            <h2>{{ character.name }}</h2>
          </div>
        </div>
      </div>
      {% endfor %}

    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>
</div>

<div id="character-modal" class="modal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <div class="modal-body">
      <!-- Contenu injecté dynamiquement via JS -->
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  // Initialisation du slider Swiper
  const swiper = new Swiper('.character-slider', {
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev'
    },
    slidesPerView: 3,
    spaceBetween: 20,
    loop: true
  });

  // Gestion de la modal
  const modal = document.getElementById("character-modal");
  const modalBody = modal.querySelector(".modal-body");
  const closeBtn = modal.querySelector(".close-btn");

  // Cibler toutes les cartes
  document.querySelectorAll(".character-card").forEach(card => {
    card.addEventListener("click", () => {
      const index = card.getAttribute("data-index");

      // Ici, on récupère les infos du personnage via ton dataset Liquid
      const characters = {{ site.data.characters | jsonify }};
      const char = characters[index];

      // Injecter le contenu dans la modal
      modalBody.innerHTML = `
        <h2>${char.name}</h2>
        <img src="${char.image}" alt="${char.name}" style="max-width:100%;border-radius:12px;">
        <p>${char.description || "Pas de description disponible."}</p>
      `;

      modal.style.display = "block";
    });
  });

  // Fermer la modal
  closeBtn.addEventListener("click", () => {
    modal.style.display = "none";
  });
  window.addEventListener("click", (e) => {
    if (e.target === modal) modal.style.display = "none";
  });
</script>
